<body>
  <app-root></app-root>
  <!-- ✅ Contenedor para mostrar las películas -->
  <div id="movies-container" style="width:80%; margin:20px auto; color:#fff;"></div>

  <script>
    async function loadMovies() {
      try {
        const response = await fetch('get_movies.php'); // Asegúrate de tener este archivo PHP que devuelve JSON
        const movies = await response.json();

        if (!movies || movies.length === 0) {
          document.getElementById('movies-container').innerHTML = '<p>No hay películas registradas.</p>';
          return;
        }

        let html = '<table>';
        html += '<tr><th>ID</th><th>Título</th><th>Descripción</th><th>Año</th></tr>';

        movies.forEach(movie => {
          html += `<tr>
                     <td>${movie.id}</td>
                     <td>${movie.title}</td>
                     <td>${movie.description}</td>
                     <td>${movie.year}</td>
                   </tr>`;
        });

        html += '</table>';
        document.getElementById('movies-container').innerHTML = html;
      } catch (error) {
        console.error(error);
        document.getElementById('movies-container').innerHTML = '<p>Error cargando las películas.</p>';
      }
    }

    loadMovies();
  </script>

  <script src="polyfills-B6TNHZQ6.js" type="module"></script>
  <script src="scripts-SQ7W6IC7.js" defer></script>
  <script src="main-E3VRN7CM.js" type="module"></script>
</body>
